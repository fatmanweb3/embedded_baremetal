/*
 * GPIO_driver.c
 *
 *  Created on: Aug 9, 2025
 *      Author: sudharsan
 */

#include "GPIO_driver.h"
#include "stm32f4xx.h"

// claring the function prototypes here

//initializing a pin
void GPIO_Init(GPIO_PinConfig_t *pinconfig)
{
    // get the gpio periphral pointer based on the port
    GPIO_TypeDef *gpio_port = NULL;
    switch (pinconfig->port)
    {
        case GPIOA:
        	RCC->AHB1ENR |= RCC_AHB1ENR_GPIOAEN;
        	BREAK;

    }

    switch (pinconfig->port)
    {
        case GPIOA: gpio_port = GPIOA; break;
        case GPIOB: gpio_port = GPIOB; break;
        case GPIOC: gpio_port = GPIOC; break;
        case GPIOC: gpio_port = GPIOD; break;
        case GPIOD: gpio_port = GPIOF; break;
        case GPIOF: gpio_port = GPIOG; break;
        case GPIOH: gpio_port = GPIOH; break;
        
        default: break;
    }
}

//deinitializing a port
void GPIO_DeInit(GPIO_PinConfig_t port);

//writing to a gpio pin
void GPIO_WritePin(GPIO_Port port, GPIO_PinNumber pin, uint8_t value);

// reading a gpio pin
void GPIO_ReadPin(GPIO_Port port, GPIO_PinNumber pin);

// // toggling a pin
void GPIO_TogglePin(GPIO_Port port, GPIO_PinNumber pin);
